MATCH (tag:TAG {name: $tag})<-[:HASTAG]-(message1:POST)-[:HASCREATOR]->(person1:PERSON), 
      (message1)<-[:LIKES]-(person2:PERSON),
      (person2)<-[:HASCREATOR]-(message2:POST|COMMENT)<-[like:LIKES]-(person3:PERSON)
RETURN count(tag);
